<!DOCTYPE html>
<html>
<head>


	<title>Introducción formularios web</title>
	<meta charset="utf-8"/>
	<meta name="description" content="Un formulario sirve para enviar datos a otra página que los recoge para usarlos o almacenarlos."/>
	<link rel="stylesheet" type="text/css" href="masterform.css"/>
	<link rel="stylesheet" href="flexboxform.css">
</head>
<body>

<form action="javascript:;" onsubmit="return validacion()">

<script>

		function validacion() { /* funcion que realiza la validación del formulario de contacto*/

				nombre = document.getElementById("nombre").value; /*nombre*/
				email = document.getElementById("email").value; /* email*/
				expr = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/; /* pattern email*/
				asunto = document.getElementById("asunto").value; /*asunto*/
				telefono = document.getElementById("telefono").value;  /*telefono*/

				if (nombre == null || nombre.length == 0) { /* si no se ha introducido nada*/
						alert('[ERROR] Debes poner un nombre');
						return true;
				}

				else if (!expr.test(email)) { /* si el correo introducido no cumple con el patron valido establecido */
						alert("Error: La dirección de correo " + email + " es incorrecta.");
						return false;
				}

				else if (asunto == null || asunto.length == 0) { /*si el no se ha introducido el asunto */
						alert('[ERROR] Debes escribir el motivo de tu consulta');
						return false;
				}

				else if (!(/^\d{3}-\d{3}-\d{3}$/.test(telefono))) { /* si el telefono introducido no cumple con el patrón xxx-xxx-xxx */
						alert('[ERROR] Debes escribir un formato correcto de telefono');
						return false;
				}
				/* si no ha ocurrido ningún error en la validación se genera un mensaje de confirmación */
				else {
						alert("Consulta Enviada. Pronto recibirá una respuesta por correo");
						return true;
				}
		}

</script>
<style>
		input:valid,
		textarea:valid {
				background: rgba(164, 238, 164, 0.541);
		}

		input:invalid,
		textarea:invalid {
				background: rgba(247, 168, 168, 0.418);
		}
</style>
</head>

<body>

<form action="javascript:;" onsubmit="return validacion()">
		<fieldset>
				<p>
						Nombre: <input type="text" name="nombre" id="nombre" placeholder="Escribe tu nombre" />
				</p>

				<p>
						Correo electrónico: <input type="email" name="email" id="email" placeholder="xxx@gmail.com" title="Recuerda el formato válido: xxx@gmail.com"/>
				</p>

				<p>
						Teléfono: <input type="text" name="telefono" id="telefono" placeholder="introduce tu telefono" title="Recuerda el formato válido:xxx-xxx-xxx"
								required />
				</p>
				<p>
						Asunto: <input type="text" name="asunto" id="asunto" placeholder="Escribe tu mensaje" required />
				</p>

				<p>
						Mensaje: <textarea name="mensaje" for="mensaje"
								placeholder="describe brevemente en menos de 300 carácteres" maxlength="300" required></textarea>
				</p>

				<p>
						<input type="submit" value="Enviar" />
				</p>
		</fieldset>
</form>
</body>
</html>
